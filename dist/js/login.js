"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}require(["require-config"],function(){require(["url","jquery","cookie"],function(n,s){new(function(){function e(){_classCallCheck(this,e),this.LGcon=s("#loginRegContainer"),this.username=s("#phoneNum"),this.areaCode=s("#area-code"),this.pwd=s("#pwd"),this.eye=s("#eye"),this.lBtn=s("#loginBtn"),this.bindEvent()}return _createClass(e,[{key:"bindEvent",value:function(){var e=this;this.lBtn.on("click",function(){e.getData()}),this.eye.on("click",function(){e.changeEye()})}},{key:"getData",value:function(){var t=this.areaCode.html().slice(1)+this.username.val(),e=this.pwd.val();s.ajax({data:{password:e,userName:t},type:"post",url:n.phpUrl+"login.php",success:function(e){1===e.res_code?(alert(e.res_message+"，即将跳转至首页"),location.href="/",s.cookie("user",t,{path:"/"})):alert(e.res_message)},dataType:"json"})}},{key:"changeEye",value:function(){"password"===this.pwd.prop("type")?(this.pwd.prop("type","text"),this.eye.removeClass("glyphicon-eye-close").addClass("glyphicon-eye-open")):(this.pwd.prop("type","password"),this.eye.removeClass("glyphicon-eye-open").addClass("glyphicon-eye-close"))}}]),e}())})});